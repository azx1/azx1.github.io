---
layout: post
header-img: "img/post-bg.jpg"
title: "【协议】ICMP协议剖析"
author: "静默虚空"
author-link: "http://www.cnblogs.com/jingmoxukong/"
date: "2017-12-30"
reprint-link: "http://www.cnblogs.com/jingmoxukong/p/3811262.html"
tags:
    - 转载
    - 网络协议
    - ICMP
---
<div id="cnblogs_post_body" class="blogpost-body"><a name="_labelTop"></a><div id="navCategory"><blockquote><p style="font-size: 18pt; color:#a2b4ba"><b>目录</b></p><div><a style="font-size:18px" href="#1、icmp简介">1、ICMP简介</a><br><a style="font-size:18px" href="#2、icmp类型">2、ICMP类型</a><br><a style="font-size:18px" href="#3、目的不可达destination-unreachable-message">3、目的不可达(Destination Unreachable Message)</a><br><a style="font-size:18px" href="#4、超时time-exceeded-message">4、超时(Time Exceeded Message)</a><br><a style="font-size:18px" href="#5、参数错误报文parameter-problem-message">5、参数错误报文(Parameter Problem Message)</a><br><a style="font-size:18px" href="#6、源冷却source-quench-message">6、源冷却(Source Quench Message)</a><br><a style="font-size:18px" href="#7、重定向redirect-message">7、重定向(Redirect Message)</a><br><a style="font-size:18px" href="#8、请求回显或回显应答echo-or-echo-reply-message">8、请求回显或回显应答(Echo or Echo Reply Message)</a><br><a style="font-size:18px" href="#9、时间戳或时间戳请求timestamp-or-timestamp-reply-message">9、时间戳或时间戳请求(Timestamp or Timestamp Reply Message)</a><br><a style="font-size:18px" href="#10、信息请求或信息响应">10、信息请求或信息响应</a><br><a style="font-size:18px" href="#总结">总结</a><br><a style="font-size:18px" href="#参考">参考</a><br></div></blockquote></div><h1><span lang="EN-US">1</span><span style="font-family:宋体;mso-fareast-font-family:
宋体;mso-fareast-theme-font:minor-fareast">、</span><span lang="EN-US">ICMP</span><span style="font-family:宋体;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast">简介</span></h1>
<p class="MsoNormal" style="margin-top:3.75pt;margin-right:0cm;margin-bottom:
3.75pt;margin-left:0cm;line-height:15.75pt;mso-pagination:widow-orphan"><span lang="EN-US" style="font-family: Verdana, sans-serif;">ICMP</span><span style="font-family: 宋体;">全名为</span><span lang="EN-US" style="font-family: Verdana, sans-serif;">(</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">INTERNET CONTROL
MESSAGE PROTOCOL</span><span lang="EN-US" style="font-family: Verdana, sans-serif;">)</span><span style="font-family: 宋体;">网络控制消息协议。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin-top:3.75pt;margin-right:0cm;margin-bottom:
3.75pt;margin-left:0cm;line-height:15.75pt;mso-pagination:widow-orphan"><span lang="EN-US" style="font-family: Verdana, sans-serif;">ICMP</span><span style="font-family: 宋体;">的协议号为</span><strong><span lang="EN-US" style="mso-bidi-font-size:
10.5pt;font-family:&quot;Verdana&quot;,sans-serif;mso-fareast-font-family:宋体;mso-bidi-font-family:
宋体;color:red;mso-font-kerning:0pt">1</span></strong><span style="font-family: 宋体;">。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin-top:3.75pt;margin-right:0cm;margin-bottom:
3.75pt;margin-left:0cm;line-height:15.75pt;mso-pagination:widow-orphan"><span lang="EN-US" style="font-family: Verdana, sans-serif;">ICMP</span><span style="font-family: 宋体;">报文就像是</span><span lang="EN-US" style="font-family: Verdana, sans-serif;">IP</span><span style="font-family: 宋体;">报文的小弟，总顶着</span><span lang="EN-US" style="font-family: Verdana, sans-serif;">IP</span><span style="font-family: 宋体;">报文的名头出来混。因为</span><span lang="EN-US" style="font-family: Verdana, sans-serif;">ICMP</span><span style="font-family: 宋体;">报文是在</span><span lang="EN-US" style="font-family: Verdana, sans-serif;">IP</span><span style="font-family: 宋体;">报文内部的，如图：</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="center" style="text-align:center;line-height:15.75pt;
mso-pagination:widow-orphan"><span lang="EN-US" style="font-family: Verdana, sans-serif;"><img width="490" height="49" src="http://images2015.cnblogs.com/blog/318837/201606/318837-20160617091834260-1410966672.png" alt="http://images.cnitblog.com/blog/318837/201406/271146595546398.jpg" v:shapes="图片_x0020_2" data-bd-imgshare-binded="1"></span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="center" style="margin-top:3.75pt;margin-right:0cm;
margin-bottom:3.75pt;margin-left:0cm;text-align:center;line-height:15.75pt;
mso-pagination:widow-orphan"><span style="font-family: 宋体;">图：</span><span lang="EN-US" style="font-family: Verdana, sans-serif;">IP</span><span style="font-family: 宋体;">数据报</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span lang="EN-US">2</span><span style="font-family:宋体;mso-fareast-font-family:
宋体;mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:宋体">、</span><span lang="EN-US">ICMP</span><span style="font-family:宋体;mso-fareast-font-family:宋体;
mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:宋体">类型</span></h1>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">ICMP</span><span style="font-size: 11pt; font-family: 宋体;">报文主要有两大功能：查询报文和差错报文。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span lang="EN-US">3</span><span style="font-family:宋体;mso-fareast-font-family:
宋体;mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:宋体">、目的不可达</span><span lang="EN-US">(Destination Unreachable Message)</span></h1>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp; Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Checksum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
unused&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Internet Header + 64 bits of Original Data
Datagram&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span style="font-size: 11pt; font-family: 宋体;">日常生活中，邮寄包裹会经过多个传递环节，任意一环如果无法传下去，都会返回寄件人，并附上无法邮寄的原因。同理，当路由器收到一个无法传递下去的</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">IP</span><span style="font-size: 11pt; font-family: 宋体;">报文时，会发送</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">ICMP</span><strong><span style="font-size:11.0pt;font-family:宋体;mso-ascii-font-family:
&quot;Courier New&quot;;mso-hansi-font-family:&quot;Courier New&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
color:#C00000;mso-font-kerning:0pt">目的不可达报文（</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;
mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:0pt">Type</span></strong><strong><span style="font-size:11.0pt;font-family:
宋体;mso-ascii-font-family:&quot;Courier New&quot;;mso-hansi-font-family:&quot;Courier New&quot;;
mso-bidi-font-family:&quot;Courier New&quot;;color:#C00000;mso-font-kerning:0pt">为</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;
font-family:&quot;Courier New&quot;;mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:
0pt">3</span></strong><strong><span style="font-size:
11.0pt;font-family:宋体;mso-ascii-font-family:&quot;Courier New&quot;;mso-hansi-font-family:
&quot;Courier New&quot;;mso-bidi-font-family:&quot;Courier New&quot;;color:#C00000;mso-font-kerning:
0pt">）</span></strong><span style="font-size: 11pt; font-family: 宋体;">给</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">IP</span><span style="font-size: 11pt; font-family: 宋体;">报文的源发送方。报文中的</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">Code</span><span style="font-size: 11pt; font-family: 宋体;">就表示发送失败的原因。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; text-indent: 21pt; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">Code</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; text-indent: 21pt; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">0 = net unreachable;</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; text-indent: 21pt; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">1 = host unreachable;</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; text-indent: 21pt; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">2 = protocol unreachable;</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; text-indent: 21pt; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">3 = port unreachable;</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; text-indent: 21pt; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">4 = fragmentation needed and DF set;</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; text-indent: 21pt; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">5 = source route failed.</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span lang="EN-US">4</span><span style="font-family:宋体;mso-fareast-font-family:
宋体;mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:宋体">、超时</span><span lang="EN-US">(Time Exceeded Message)</span></h1>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp; Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Checksum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
unused&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Internet Header + 64 bits of Original Data
Datagram&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span style="font-size: 11pt; font-family: 宋体;">网络传输</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">IP</span><span style="font-size: 11pt; font-family: 宋体;">数据报的过程中，如果</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">IP</span><span style="font-size: 11pt; font-family: 宋体;">数据包的</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">TTL</span><span style="font-size: 11pt; font-family: 宋体;">值逐渐递减为</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">0</span><span style="font-size: 11pt; font-family: 宋体;">时，需要丢弃数据报。这时，路由器需要向源发送方发送</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">ICMP</span><strong><span style="font-size:11.0pt;font-family:宋体;mso-ascii-font-family:
&quot;Courier New&quot;;mso-hansi-font-family:&quot;Courier New&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
color:#C00000;mso-font-kerning:0pt">超时报文</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;
mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:0pt">(Type</span></strong><strong><span style="font-size:11.0pt;font-family:
宋体;mso-ascii-font-family:&quot;Courier New&quot;;mso-hansi-font-family:&quot;Courier New&quot;;
mso-bidi-font-family:&quot;Courier New&quot;;color:#C00000;mso-font-kerning:0pt">为</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;
font-family:&quot;Courier New&quot;;mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:
0pt">11)</span></strong><span style="font-size: 11pt; font-family: 宋体;">，</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">Code</span><span style="font-size: 11pt; font-family: 宋体;">为</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">0</span><span style="font-size: 11pt; font-family: 宋体;">，表示传输过程中超时了。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span style="font-size: 11pt; font-family: 宋体;">一个</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">IP</span><span style="font-size: 11pt; font-family: 宋体;">数据报可能会因为过大而被分片，然后在目的主机侧把所有的分片重组。如果主机迟迟没有等到所有的分片报文，就会向源发送方发送一个</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">ICMP</span><span style="font-size: 11pt; font-family: 宋体;">超时报文，</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">Code</span><span style="font-size: 11pt; font-family: 宋体;">为</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">1</span><span style="font-size: 11pt; font-family: 宋体;">，表示分片重组超时了。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span lang="EN-US">5</span><span style="font-family:宋体;mso-fareast-font-family:
宋体;mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:宋体">、参数错误报文</span><span lang="EN-US">(Parameter Problem Message)</span></h1>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp; Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Checksum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp; Pointer&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
unused&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Internet Header + 64 bits of Original Data
Datagram&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span style="font-size: 11pt; font-family: 宋体;">当路由器或主机处理数据报时，发现因为报文头的参数错误而不得不丢弃报文时，需要向源发送方发送</span><strong><span style="font-size:11.0pt;font-family:
宋体;mso-ascii-font-family:&quot;Courier New&quot;;mso-hansi-font-family:&quot;Courier New&quot;;
mso-bidi-font-family:&quot;Courier New&quot;;color:#C00000;mso-font-kerning:0pt">参数错误报文</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;
font-family:&quot;Courier New&quot;;mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:
0pt">(Type</span></strong><strong><span style="font-size:11.0pt;font-family:宋体;mso-ascii-font-family:&quot;Courier New&quot;;
mso-hansi-font-family:&quot;Courier New&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
color:#C00000;mso-font-kerning:0pt">为</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;
mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:0pt">12)</span></strong><span style="font-size: 11pt; font-family: 宋体;">。当</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">Code</span><span style="font-size: 11pt; font-family: 宋体;">为</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">0</span><span style="font-size: 11pt; font-family: 宋体;">时，报文中的</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">Pointer</span><span style="font-size: 11pt; font-family: 宋体;">表示错误的字节位置。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span lang="EN-US">6</span><span style="font-family:宋体;mso-fareast-font-family:
宋体;mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:宋体">、源冷却</span><span lang="EN-US">(Source Quench Message)</span></h1>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp; &nbsp;&nbsp;Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp; Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Checksum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
unused&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Internet Header + 64 bits of Original Data
Datagram&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span style="font-size: 11pt; font-family: 宋体;">路由器在处理报文时会有一个缓存队列。如果超过最大缓存队列，将无法处理，从而丢弃报文。并向源发送方发一个</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">ICMP</span><strong><span style="font-size:11.0pt;font-family:宋体;mso-ascii-font-family:
&quot;Courier New&quot;;mso-hansi-font-family:&quot;Courier New&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
color:#C00000;mso-font-kerning:0pt">源冷却报文</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;
mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:0pt">(Type</span></strong><strong><span style="font-size:11.0pt;font-family:
宋体;mso-ascii-font-family:&quot;Courier New&quot;;mso-hansi-font-family:&quot;Courier New&quot;;
mso-bidi-font-family:&quot;Courier New&quot;;color:#C00000;mso-font-kerning:0pt">为</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;
font-family:&quot;Courier New&quot;;mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:
0pt">4)</span></strong><span style="font-size: 11pt; font-family: 宋体;">，告诉对方：“嘿，我这里客满了，你迟点再来。”</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span lang="EN-US">7</span><span style="font-family:宋体;mso-fareast-font-family:
宋体;mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:宋体">、重定向</span><span lang="EN-US">(Redirect Message)</span></h1>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp; Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Checksum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Gateway Internet
Address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Internet Header + 64 bits of Original Data
Datagram&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span style="font-size: 11pt; font-family: 宋体;">想像一下，在公司中，有人来你的项目组问你某某某在哪儿。你一想，我们组没有这人啊。你肯定就会说，我们组没有这号人，你去其他组看看。当路由收到</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">IP</span><span style="font-size: 11pt; font-family: 宋体;">数据报，发现数据报的目的地址在路由表上没有，它就会发</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">ICMP</span><strong><span style="font-size:11.0pt;font-family:宋体;mso-ascii-font-family:
&quot;Courier New&quot;;mso-hansi-font-family:&quot;Courier New&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
color:#C00000;mso-font-kerning:0pt">重定向报文</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;
mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:0pt">(Type</span></strong><strong><span style="font-size:11.0pt;font-family:
宋体;mso-ascii-font-family:&quot;Courier New&quot;;mso-hansi-font-family:&quot;Courier New&quot;;
mso-bidi-font-family:&quot;Courier New&quot;;color:#C00000;mso-font-kerning:0pt">为</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;
font-family:&quot;Courier New&quot;;mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:
0pt">5)</span></strong><span style="font-size: 11pt; font-family: 宋体;">给源发送方，提醒它想要发送的地址不在，去其他地方找找吧。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span lang="EN-US">8</span><span style="font-family:宋体;mso-fareast-font-family:
宋体;mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:宋体">、请求回显或回显应答</span><span lang="EN-US">(Echo or Echo Reply Message)</span></h1>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: 'Courier New';">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: 'Courier New';">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp; Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Checksum&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sequence
Number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Data ...</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: 'Courier New';">+-+-+-+-+-</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;mso-fareast-font-family:
宋体;color:#C00000;mso-font-kerning:0pt">Type(8)</span></strong><span style="font-size: 11pt; font-family: 宋体;">是</span><strong><span style="font-size:11.0pt;font-family:宋体;mso-ascii-font-family:&quot;Courier New&quot;;
mso-hansi-font-family:&quot;Courier New&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
color:#C00000;mso-font-kerning:0pt">请求回显报文</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;
mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:0pt">(Echo)</span></strong><span style="font-size: 11pt; font-family: 宋体;">；</span><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;mso-fareast-font-family:
宋体;color:#C00000;mso-font-kerning:0pt">Type(0)</span></strong><span style="font-size: 11pt; font-family: 宋体;">是</span><strong><span style="font-size:11.0pt;font-family:宋体;mso-ascii-font-family:&quot;Courier New&quot;;
mso-hansi-font-family:&quot;Courier New&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
color:#C00000;mso-font-kerning:0pt">回显应答报文</span></strong><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;
mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:0pt">(Echo Reply)</span></strong><span style="font-size: 11pt; font-family: 宋体;">。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span style="font-size: 11pt; font-family: 宋体;">请求回显或回显应答报文属于查询报文。</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">Ping</span><span style="font-size: 11pt; font-family: 宋体;">就是用这种报文进行查询和回应。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span lang="EN-US">9</span><span style="font-family:宋体;mso-fareast-font-family:
宋体;mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:宋体">、时间戳或时间戳请求</span><span lang="EN-US">(Timestamp or Timestamp Reply Message)</span></h1>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Code&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Checksum&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sequence Number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Originate
Timestamp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Receive
Timestamp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Transmit
Timestamp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span style="font-size: 11pt; font-family: 宋体;">时间戳报文是用来记录收发以及传输时间的报文。</span><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">Originate Timestamp</span><span style="font-size: 12pt; font-family: 宋体;">记录的是发送方发送报文的时刻；</span><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;
mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:0pt">Receive
Timestamp</span></strong><span style="font-size: 12pt; font-family: 宋体;">记录的是接收方收到报文的时刻；</span><strong><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Courier New&quot;;
mso-fareast-font-family:宋体;color:#C00000;mso-font-kerning:0pt">Transmit
Timestamp</span></strong><span style="font-size: 12pt; font-family: 宋体;">表示回显这最后发送报文的时刻。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span lang="EN-US" style="font-family:&quot;Courier New&quot;">10</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;
mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
Calibri;mso-hansi-theme-font:minor-latin">、信息请求或信息响应</span></h1>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Code&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Checksum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sequence
Number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-size: 12pt; font-family: 'Courier New';">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span style="font-size: 11pt; font-family: 宋体;">这种报文是用来找出一个主机所在的网络个数（一个主机可能会在多个网络中）。报文的</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">IP</span><span style="font-size: 11pt; font-family: 宋体;">消息头的目的地址会填为全</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">0</span><span style="font-size: 11pt; font-family: 宋体;">，表示</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">this</span><span style="font-size: 11pt; font-family: 宋体;">，源地址会填为源</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">IP</span><span style="font-size: 11pt; font-family: 宋体;">所在的网络</span><span lang="EN-US" style="font-size: 11pt; font-family: 'Courier New';">IP</span><span style="font-size: 11pt; font-family: 宋体;">。</span><span lang="EN-US" style="font-family: Verdana, sans-serif;"><o:p></o:p></span></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:
minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">总结</span></h1>
<p class="MsoNormal" align="center" style="margin-top:3.75pt;margin-right:0cm;
margin-bottom:3.75pt;margin-left:0cm;text-align:center;line-height:15.75pt;
mso-pagination:widow-orphan"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<img width="639" height="361" src="http://images2015.cnblogs.com/blog/318837/201606/318837-20160617091835838-1982473379.png" alt="http://images.cnitblog.com/blog/318837/201407/022057280438792.jpg" v:shapes="图片_x0020_1" data-bd-imgshare-binded="1"><o:p></o:p></span></p>
<p class="MsoNormal" align="center" style="margin-top:3.75pt;margin-right:0cm;
margin-bottom:3.75pt;margin-left:0cm;text-align:center;line-height:15.75pt;
mso-pagination:widow-orphan"><strong><span style="font-family: 宋体;">图：</span></strong><strong><span lang="EN-US" style="font-family: Verdana, sans-serif;">ICMP</span></strong><strong><span style="font-family: 宋体;">知识点思维导图</span></strong><strong><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></strong></p>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;">&nbsp;<o:p></o:p></span></p>
<h1><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:
minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">参考</span></h1>
<p class="MsoNormal" align="left" style="margin: 3.75pt 0cm; line-height: 15.75pt;"><span lang="EN-US" style="font-family: Verdana, sans-serif;"><a href="http://www.rfc-editor.org/info/rfc792">http://www.rfc-editor.org/info/rfc792</a></span><span style="font-family: 宋体;">（</span><span lang="EN-US" style="font-family: Verdana, sans-serif;">RFC792</span><span style="font-family: 宋体;">）</span></p><div id="signature"><p>作者：<a href="http://www.cnblogs.com/jingmoxukong/">静默虚空</a><br>欢迎任何形式的转载，但请务必注明出处。<br>限于本人水平，如果文章和代码有表述不当之处，还请不吝赐教。</p></div></div>